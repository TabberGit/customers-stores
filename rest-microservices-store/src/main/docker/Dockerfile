FROM java:7
VOLUME /tmp
ADD rest-microservices-store-1.0.0.BUILD-SNAPSHOT.jar /app.jar
RUN bash -c 'touch /app.jar'
ENV RABBITMQ_PORT ${RABBITMQ_PORT}
ENV RABBITMQ_HOST ${RABBITMQ_HOST}
ENV RABBITMQ_USERNAME ${RABBITMQ_USERNAME}
ENV RABBITMQ_PASSWORD ${RABBITMQ_PASSWORD}
ENV MONGODB_PORT ${MONGODB_PORT}
ENV MONGODB_HOST ${MONGODB_HOST}
ENV CONFIG_SERVER_URI ${CONFIG_SERVER_URI}
ENV WORKPC_HOST ${WORKPC_HOST}
ENV HOST_IP ${HOST_IP}
EXPOSE 8081
ENTRYPOINT ["java","-Djava.security.egd=file:/dev/./urandom","-jar","/app.jar"]
